<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
<script>
  // 为 dictionary 添加 toString 方法
  // 该方法应该返回以逗号分隔的所有键的列表。你的 toString 方法不应该在使用 for...in 循环遍历数组的时候显现出来。

  let dictionary = Object.create(null);

  // 你的添加 dictionary.toString 方法的代码
  Object.defineProperty(dictionary, 'toString', {
    writable: false,
    configurable: true,
    enumerable: false,
    value: function () {
      return Object.keys(this).join(',')
    }
  })

  // 添加一些数据
  dictionary.apple = "Apple";
  dictionary.__proto__ = "test"; // 这里 __proto__ 是一个常规的属性键

  // 在循环中只有 apple 和 __proto__
  for(let key in dictionary) {
    console.log(key); // "apple", then "__proto__"
  }

  // 你的 toString 方法在发挥作用
  console.log(dictionary.toString()); // "apple,__proto__"
</script>
</body>
</html>